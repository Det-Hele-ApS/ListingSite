@model ListingPageModel

<div class="col-lg-12">
	<div class="pagination-box">
		<nav aria-label="Page navigation">
			<ul class="pagination">
				<li class="page-item @(Model.CurrentPage == 1 ? "disabled" : string.Empty)">
					<a class="page-link"
					   href="@Url.Action("Index", "Listing",
													new
													{
														first = ViewBag.Type,
														second = ViewBag.Service,
														third = ViewBag.City,
														page = Model.CurrentPage - 1
													})">
						<span aria-hidden="true">«</span>
					</a>
				</li>

				@if (Model.TotalPages < 8)
									{
										for (var i = 1; i <= Model.TotalPages; i++)
										{
				<li class="page-item">
					<a class="page-link @(Model.CurrentPage == i ? "active" : string.Empty)"
					   href="@Url.Action("Index", "Listing",
													new
													{
														first = ViewBag.Type,
														second = ViewBag.Service,
														third = ViewBag.City,
														page = i
													})">
						@i
					</a>
				</li>
										}
									}
									else
									{
				@if (Model.CurrentPage >= 3)
										{
				<li class="page-item">
					<a class="page-link"
					   href="@Url.Action("Index", "Listing",
													new
													{
														first = ViewBag.Type,
														second = ViewBag.Service,
														third = ViewBag.City,
														page = 1
													})">
						1
					</a>
				</li>
										}

				@if (Model.CurrentPage > 3)
										{
				<li class="page-item disabled"><a href="javascript:void(0);" class="page-link">...</a></li>
										}

				@for (var i = Math.Max(Model.CurrentPage - 1, 1); i <= Math.Min(Model.CurrentPage + 1, Model.TotalPages); i++)
										{
				<li class="page-item">
					<a class="page-link @(Model.CurrentPage == i ? "active" : string.Empty)"
					   href="@Url.Action("Index", "Listing",
													new
													{
														first = ViewBag.Type,
														second = ViewBag.Service,
														third = ViewBag.City,
														page = i
													})">
						@i
					</a>
				</li>
										}

				@if (Model.CurrentPage < Model.TotalPages - 2)
										{
				<li class="page-item disabled"><a href="javascript:void(0);" class="page-link">...</a></li>
										}

				@if (Model.CurrentPage <= Model.TotalPages - 2)
										{
				<li class="page-item">
					<a class="page-link"
					   href="@Url.Action("Index", "Listing",
													new
													{
														first = ViewBag.Type,
														second = ViewBag.Service,
														third = ViewBag.City,
														page = Model.TotalPages
													})">
						@Model.TotalPages
					</a>
				</li>
										}
									}

				<li class="page-item @(Model.CurrentPage == Model.TotalPages ? "disabled" : string.Empty)">
					<a class="page-link"
					   href="@Url.Action("Index", "Listing",
													new
													{
														first = ViewBag.Type,
														second = ViewBag.Service,
														third = ViewBag.City,
														page = Model.CurrentPage + 1
													})">
						<span aria-hidden="true">»</span>
					</a>
				</li>
			</ul>
		</nav>
	</div>
</div>